(this["webpackJsonpstudy-table-ui"]=this["webpackJsonpstudy-table-ui"]||[]).push([[0],{183:function(e,t,n){},184:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),r=n(65),a=n.n(r),s=(n(73),n(68)),l=n(23),o=n(32),u=n(33),d=n.n(u),j=n(66),v=n(4);var b=function(e,t){var n=Object(i.useState)(e),c=Object(v.a)(n,2),r=c[0],a=c[1];return Object(i.useEffect)((function(){var n=setTimeout((function(){a(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r},f=function(){var e=Object(i.useState)({width:void 0,height:void 0}),t=Object(v.a)(e,2),n=t[0],c=t[1];return Object(i.useEffect)((function(){function e(){c({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},h=n(67),O=n.n(h),m=n(0);var g=function(e){var t=e.data,n=e.visible,i=e.mobile;return Object(m.jsx)("div",{className:"grid-scrollview",style:n?null:{display:"none"},children:Object(m.jsxs)("div",{className:"grid",children:[null===t||void 0===t?void 0:t.map((function(e){return Object(m.jsx)(x,{item:e,mobile:i},e.id)})),!t.length&&Object(m.jsx)("div",{className:"no-results",children:"No artists match your criteria."})]})})},x=function(e){var t,n,c,r,a=e.item,s=e.mobile,l=Object(i.useState)(!1),o=Object(v.a)(l,2),u=o[0],d=o[1],j=p(s,u,a);return Object(m.jsx)("div",{className:"grid-item",children:Object(m.jsxs)("div",{onClick:function(){d(a)},className:"artist-card ".concat(u?"selected":""),children:[Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("div",{className:"artist-thumb",style:j,children:u&&!s&&Object(m.jsx)("div",{className:"artist-info",children:Object(m.jsx)(O.a,{children:null===(t=a.fields)||void 0===t?void 0:t.Info})})}),u&&!s&&Object(m.jsx)("div",{role:"button",onClick:function(e){e.stopPropagation(),d(null)},className:"artist-return-btn",children:"\u2190"})]}),Object(m.jsxs)("div",{className:"artist-heading",children:[Object(m.jsx)("div",{className:"artist-name",children:null===(n=a.fields)||void 0===n?void 0:n.Name}),Object(m.jsx)("div",{className:"artist-tags",children:null===(c=a.fields)||void 0===c||null===(r=c.Tags)||void 0===r?void 0:r.map((function(e,t){return Object(m.jsx)("div",{className:"artist-tag",children:e},"".concat(e,"-").concat(t))}))})]})]})})},p=function(e,t,n){var i;if(!e&&t)return null;var c=null===n||void 0===n||null===(i=n.fields)||void 0===i?void 0:i.Image;if(!(null===c||void 0===c?void 0:c.length))return{backgroundColor:"#f8f8f8"};var r=c[0].thumbnails.large.url;return{backgroundImage:"url(".concat(r,")"),backgroundSize:"cover",backgroundPosition:"center"}},N=function(e){var t=e.data,n=e.active,i=e.visible,c=e.onSelect,r=e.onClear,a=function(e){return n.some((function(t){return t.id===e.id}))},s=function(e){var t="tag";return a(e)&&(t+=" selected"),t};return Object(m.jsx)("div",{className:"filters-scrollview",style:i?null:{display:"none"},children:Object(m.jsxs)("div",{className:"filters-container",children:[Object(m.jsx)("div",{className:"filters-header",children:n.length?Object(m.jsxs)("div",{role:"button",onClick:r,style:{cursor:"pointer"},children:["Clear All ",!!n.length&&" (".concat(n.length,")")]}):Object(m.jsx)("div",{children:"Filter by Tags"})}),t.map((function(e){return Object(m.jsxs)("div",{className:"tag-wrapper",children:[Object(m.jsx)("input",{type:"checkbox",id:e.id,name:"tag",value:a(e),style:{display:"none"}}),Object(m.jsx)("div",{htmlFor:e.id,onClick:function(){return c(e)},className:s(e),children:Object(m.jsx)("div",{children:e.name})})]},e.id)}))]})})},w=n.p+"static/media/close-icon.7f549529.svg",C=function(e){var t=e.value,n=e.onChange,i=e.onClear;return Object(m.jsxs)("div",{className:"search-container",children:[Object(m.jsx)("input",{type:"text",value:t,onChange:function(e){return n(e.target.value)},placeholder:"Search",className:"search-input"}),Object(m.jsx)("div",{role:"button",onClick:i,className:"search-clear-icon",children:Object(m.jsx)("img",{src:w,alt:"X Icon"})})]})};n(183);var y=function(){var e=Object(i.useState)(!0),t=Object(v.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(!1),a=Object(v.a)(r,2),u=a[0],h=a[1],O=Object(i.useState)([]),x=Object(v.a)(O,2),p=x[0],w=x[1],y=Object(i.useState)([]),k=Object(v.a)(y,2),E=k[0],F=k[1],L=Object(i.useState)([]),T=Object(v.a)(L,2),I=T[0],z=T[1],P=Object(i.useState)([]),A=Object(v.a)(P,2),B=A[0],J=A[1],V=Object(i.useState)(""),D=Object(v.a)(V,2),H=D[0],M=D[1],W=b(H,500),X=f(),q=X.width<=800,G=Object(i.useState)(!q),K=Object(v.a)(G,2),Q=K[0],R=K[1],U=!q||!Q;Object(i.useEffect)((function(){Z()}),[]),Object(i.useEffect)((function(){R(X.width>800)}),[X]),Object(i.useEffect)((function(){(B||W)&&_(B,W)}),[B,W]);var Y,Z=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,i,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),c(!0),e.prev=2,e.next=5,fetch("https://study-table-service-assets.s3.us-east-1.amazonaws.com/airtable.json");case 5:return t=e.sent,e.next=8,t.json();case 8:n=e.sent,i=n.tags,r=n.records,z(S(i,"tags")),a=S(r),w(a),F(a),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),h(!0);case 20:return e.prev=20,c(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,17,20,23]])})));return function(){return e.apply(this,arguments)}}(),$=I.reduce((function(e,t){var n=p.filter((function(e){var n,i;return null===(n=e.fields)||void 0===n||null===(i=n.Tags)||void 0===i?void 0:i.includes(t.name)}));return Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},t.name,n))}),{}),_=function(e,t){var n;e.length||t?(n=e.length?Object.values(e.reduce((function(e,t){return $[t.name].forEach((function(t){e[t.id]=t})),e}),{})):p,t.length&&(n=n.filter((function(e){var n;return null===(n=e.fields)||void 0===n?void 0:n.Name.toLowerCase().includes(t.toLowerCase())}))),F(S(n))):F(p)},ee=function(){return u||n?null:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{onClick:function(){return R(!Q)},className:"mobile-filter-toggle",style:Q?{justifyContent:"flex-start",marginLeft:"1em"}:{},children:[Q?"\u2190 View Artists":"+ View Filters",!Q&&!!B.length&&" (".concat(B.length,")")]}),Object(m.jsx)(C,{value:H,onChange:M,onClear:function(){return M("")}})]})};return Y=n?Object(m.jsx)("div",{className:"loading",children:Object(m.jsx)("div",{children:"Loading Artists..."})}):u?Object(m.jsx)("div",{className:"loading",children:Object(m.jsx)("div",{children:"Something went wrong. Please try reloading the page."})}):Object(m.jsxs)("div",{className:"main",children:[Object(m.jsx)(N,{data:I,active:B,onSelect:function(e){var t;t=B.some((function(t){return t.id===e.id}))?B.filter((function(t){return t.id!==e.id})):[].concat(Object(s.a)(B),[e]),J(t)},onClear:function(){return J([])},visible:Q}),Object(m.jsx)(g,{data:E,visible:U,windowSize:X,mobile:q})]}),Object(m.jsxs)("div",{className:"app",children:[q?Object(m.jsx)(ee,{}):Object(m.jsx)(C,{value:H,onChange:M,onClear:function(){return M("")}}),Y]})},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"artists";return"artists"===t?e.sort((function(e,t){var n,i;return(null===(n=e.fields)||void 0===n?void 0:n.Name)>(null===(i=t.fields)||void 0===i?void 0:i.Name)?1:-1})):"tags"===t?e.sort((function(e,t){return e.name>t.name?1:-1})):void 0},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,185)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),r(e),a(e)}))};a.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(y,{})}),document.getElementById("root")),k()},73:function(e,t,n){}},[[184,1,2]]]);
//# sourceMappingURL=main.d107e640.chunk.js.map