(this["webpackJsonpstudy-table-ui"]=this["webpackJsonpstudy-table-ui"]||[]).push([[0],{183:function(e,t,n){},184:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),r=n(67),a=n.n(r),s=(n(73),n(8)),l=n(25),o=n(14),d=n(35),u=n.n(d),j=n(68),b=n(5),v=function(){var e=Object(i.useState)({width:void 0,height:void 0}),t=Object(b.a)(e,2),n=t[0],c=t[1];return Object(i.useEffect)((function(){function e(){c({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},h=n(26),f=n.n(h),O=n(0),m=function(e){var t=e.item,n=e.mobile,i=e.selectedArtist,c=e.setSelectedArtist,r=e.getThumbnailStyle,a=(null===i||void 0===i?void 0:i.id)===t.id,s=r(n||!a,t),l=t.fields,o=l.Name,d=l.Info,u=l.Tags;return Object(O.jsx)("div",{className:"grid-item",children:Object(O.jsxs)("div",{onClick:function(){c(t)},className:"artist-card ".concat(a?"selected":""),children:[Object(O.jsxs)("div",{style:{position:"relative"},children:[Object(O.jsx)("div",{className:"artist-thumb",style:s,children:a&&!n&&Object(O.jsx)("div",{className:"artist-info",children:d?Object(O.jsx)(f.a,{linkTarget:"_blank",children:d}):Object(O.jsx)("p",{children:"No information at this time."})})}),a&&!n&&Object(O.jsx)("div",{role:"button",onClick:function(e){e.stopPropagation(),c(null)},className:"artist-return-btn",children:"\u2190"})]}),Object(O.jsxs)("div",{className:"artist-heading",children:[Object(O.jsx)("div",{className:"artist-name",children:o}),Object(O.jsx)("div",{className:"artist-tags",tabIndex:"0",children:null===u||void 0===u?void 0:u.map((function(e,t){return Object(O.jsx)("div",{className:"artist-tag",children:e},"".concat(e,"-").concat(t))}))})]})]})})},g=function(e){var t=e.artist,n=e.windowSize,i=e.setSelectedArtist,c=e.getThumbnailStyle;if(!t)return null;var r=t.fields,a=r.Name,s=r.Info,l=c(!0,t),d=n.height-64;return Object(O.jsxs)("div",{className:"artist-selected-mobile",style:{height:d},children:[Object(O.jsx)("div",{className:"artist-selected-return",role:"button",onClick:function(){i(null)},children:"\u2190 Back to Artists"}),Object(O.jsxs)("div",{className:"artist-selected-inner",children:[Object(O.jsx)("div",{style:Object(o.a)(Object(o.a)({},l),{},{height:.55*(d-32)})}),Object(O.jsxs)("div",{className:"artist-selected-info",children:[Object(O.jsx)("div",{className:"artist-selected-name",children:a}),s?Object(O.jsx)(f.a,{linkTarget:"_blank",children:s}):Object(O.jsx)("p",{children:"No information at this time."})]})]})]})};var x=function(e){var t=e.data,n=e.mobile,i=e.windowSize,c=e.selectedArtist,r=e.setSelectedArtist;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"grid",children:[null===t||void 0===t?void 0:t.map((function(e,t){return Object(O.jsx)(m,{item:e,mobile:n,selectedArtist:c,setSelectedArtist:r,getThumbnailStyle:p},"".concat(e.id,"-").concat(t))})),!t.length&&Object(O.jsx)("div",{className:"no-results",children:"No artists match your criteria."})]}),Object(O.jsx)(g,{artist:c,setSelectedArtist:r,windowSize:i,getThumbnailStyle:p})]})},p=function(e,t){var n;if(!e)return null;var i=null===t||void 0===t||null===(n=t.fields)||void 0===n?void 0:n.Image;if(!(null===i||void 0===i?void 0:i.length))return{backgroundColor:"#f8f8f8"};var c=i[0].thumbnails.large.url;return{backgroundImage:"url(".concat(c,")"),backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}},w=n.p+"static/media/close-icon.7f549529.svg",N=function(e){var t=e.data,n=e.active,i=e.visible,c=e.windowSize,r=e.onSelect,a=e.onClear,s=n.length;return Object(O.jsxs)("div",{children:[i&&Object(O.jsx)("div",{className:"tags-header",children:s?Object(O.jsxs)("div",{role:"button",onClick:a,style:{cursor:"pointer"},children:["Clear all (",s,")",Object(O.jsx)("img",{src:w,alt:"X Icon",style:{marginLeft:"8px"}})]}):Object(O.jsx)("div",{children:"Tags"})}),Object(O.jsx)("div",{className:"tags-scrollview",style:{height:c.height,display:i?"block":"none"},tabIndex:"0",children:Object(O.jsx)("div",{className:"tags-container",children:t.map((function(e){return Object(O.jsxs)("div",{className:"tag-wrapper",children:[Object(O.jsx)("input",{type:"checkbox",id:e.id,name:"tag",value:S(e,n),style:{display:"none"}}),Object(O.jsx)("div",{htmlFor:e.id,onClick:function(){return r(e)},className:y(e,n),children:Object(O.jsx)("div",{children:e.name})})]},e.id)}))})})]})},S=function(e,t){return t.some((function(t){return t.id===e.id}))},y=function(e,t){var n="tag";return S(e,t)&&(n+=" selected"),n},C=function(e){var t=e.value,n=e.onChange,i=e.onClear,c=e.visible;return Object(O.jsxs)("div",{className:"search-container",style:c?null:{display:"none"},children:[Object(O.jsx)("input",{type:"text",value:t,onChange:function(e){return n(e.target.value)},placeholder:"Search",className:"search-input"}),i&&Object(O.jsx)("div",{role:"button",onClick:i,className:"search-clear-icon",children:Object(O.jsx)("img",{src:w,alt:"X Icon"})})]})},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"artists";return"artists"===t?e.sort((function(e,t){var n,i;return(null===(n=e.fields)||void 0===n?void 0:n.Name)>(null===(i=t.fields)||void 0===i?void 0:i.Name)?1:-1})):"tags"===t?e.sort((function(e,t){return e.name>t.name?1:-1})):void 0},T=function(e,t,n,i){var c,r=e.toLowerCase().trim(),a=r.split(" "),l=a.length>1,o=n.filter((function(e){return e.fields.Name.toLowerCase().includes(r)})),d=l?t.filter((function(e){return r.includes(e.name.toLowerCase())})):[];if(o.length&&l)c=[];else if(d.length)c=L(d,n);else if(l){var u=a.reduce((function(e,n){var i=t.filter((function(e){return n.includes(e.name.toLowerCase())}));return[].concat(Object(s.a)(e),Object(s.a)(i))}),[]);c=L(u,n)}else{c=t.filter((function(e){return e.name.toLowerCase().includes(r)})).reduce((function(e,t){return e.concat(i[t.name])}),[])}var j,b=(j=[].concat(Object(s.a)(c),Object(s.a)(o)),Object(s.a)(new Map(j.map((function(e){return[e.id,e]}))).values()));return k(b)},L=function(e,t){var n=e.length,i=t.reduce((function(t,i){var c=0;return e.forEach((function(e){var t;(null===(t=i.fields.Tags)||void 0===t?void 0:t.includes(e.name))&&c++})),c===n?[].concat(Object(s.a)(t),[i]):t}),[]);return k(i)};n(183);var A=function(){var e=Object(i.useState)(!0),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(!1),a=Object(b.a)(r,2),d=a[0],h=a[1],f=Object(i.useState)([]),m=Object(b.a)(f,2),g=m[0],p=m[1],w=Object(i.useState)([]),S=Object(b.a)(w,2),y=S[0],A=S[1],E=Object(i.useState)([]),I=Object(b.a)(E,2),z=I[0],F=I[1],P=Object(i.useState)([]),B=Object(b.a)(P,2),D=B[0],J=B[1],M=Object(i.useState)(""),R=Object(b.a)(M,2),V=R[0],X=R[1],_=Object(i.useState)(null),H=Object(b.a)(_,2),W=H[0],q=H[1],G=Object(i.useRef)(null),K=Object(i.useState)(null),Q=Object(b.a)(K,2),U=Q[0],Y=Q[1],Z=v(),$=Z.width<=800,ee=Object(i.useState)(!1),te=Object(b.a)(ee,2),ne=te[0],ie=te[1],ce=!$||!ne;Object(i.useEffect)((function(){ae()}),[]),Object(i.useEffect)((function(){Z.width>800&&ie(!0)}),[Z]),Object(i.useEffect)((function(){var e,t=function(e){var t;Y(null===(t=e.target.documentElement)||void 0===t?void 0:t.scrollTop)};return null===G||void 0===G||null===(e=G.current)||void 0===e||e.addEventListener("scroll",t),function(){var e;return null===G||void 0===G||null===(e=G.current)||void 0===e?void 0:e.removeEventListener("scroll",t)}}),[U,G]);var re,ae=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n,i,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),c(!0),e.prev=2,e.next=5,fetch("https://study-table-service-assets.s3.us-east-1.amazonaws.com/airtable.json");case 5:return t=e.sent,e.next=8,t.json();case 8:n=e.sent,i=n.tags,r=n.records,F(k(i,"tags")),a=k(r),p(a),A(a),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),h(!0);case 20:return e.prev=20,c(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,17,20,23]])})));return function(){return e.apply(this,arguments)}}(),se=z.reduce((function(e,t){var n=g.filter((function(e){var n,i;return null===(n=e.fields)||void 0===n||null===(i=n.Tags)||void 0===i?void 0:i.includes(t.name)}));return Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},t.name,n))}),{}),le=function(e){if(J([]),X(e),e.length){var t=T(e,z,g,se);A(t)}else A(g)},oe=!W&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{onClick:function(){return ie(!ne)},className:"tag-toggle-mobile",style:ne?{justifyContent:"flex-start",paddingLeft:"1em"}:{},children:[ne?"\u2190 View Artists":"+ View Tags",!ne&&!!D.length&&" (".concat(D.length,")")]}),Object(O.jsx)(C,{value:V,onChange:le,visible:U<50&&!ne})]});return re=n?Object(O.jsx)("div",{className:"loading",children:Object(O.jsx)("div",{children:"Loading Artists..."})}):d?Object(O.jsx)("div",{className:"loading",children:Object(O.jsx)("div",{children:"Something went wrong. Please try reloading the page."})}):Object(O.jsxs)("div",{className:"main",children:[Object(O.jsx)(N,{data:z,active:D,onSelect:function(e){var t;if(X(""),t=D.some((function(t){return t.id===e.id}))?D.filter((function(t){return t.id!==e.id})):[].concat(Object(s.a)(D),[e]),J(t),t.length){var n=L(t,g);A(n)}else A(g)},onClear:function(){J([]),A(g)},visible:ne,windowSize:Z}),Object(O.jsx)("div",{ref:function(e){Y(null===e||void 0===e?void 0:e.scrollTop),G.current=e},className:"grid-scrollview",style:{height:Z.height,display:ce?"block":"none"},tabIndex:"0",children:Object(O.jsx)(x,{data:y,visible:ce,windowSize:Z,mobile:$,selectedArtist:W,setSelectedArtist:q})})]}),Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)("header",{children:Object(O.jsx)("h1",{children:"Sculpture.Directory"})}),Object(O.jsxs)("main",{children:[$?!n&&!d&&oe:Object(O.jsx)(C,{visible:!0,value:V,onChange:le,onClear:function(){X(""),A(g)}}),re]})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,185)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),r(e),a(e)}))};a.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(A,{})}),document.getElementById("root")),E()},73:function(e,t,n){}},[[184,1,2]]]);
//# sourceMappingURL=main.a96aec97.chunk.js.map